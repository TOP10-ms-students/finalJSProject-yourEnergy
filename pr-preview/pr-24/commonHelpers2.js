import"./assets/styles-95685fe0.js";import{i as l}from"./assets/vendor-ad859c2f.js";const s="https://your-energy.b.goit.study/api",a=async(t,e,n)=>fetch(t,{headers:{"Content-type":"application/json"},method:e,body:n}).then(c=>{if(!c.ok)throw new Error(c.statusText);return c.json()}),d={async getExercises(t){const e=new URLSearchParams(t),n=`${s}/exercises?${e}`;return await a(n)},async getExercisesId(t){const e=`${s}/exercises/${t}`;return await a(e)},async editExercisesIdRating(t,e){const n="PATCH",o=`${s}/exercises/${t}/rating`,r=JSON.stringify(e);return await a(o,n,r)},async getExercisesFilter(t){const e=new URLSearchParams(t),n=`${s}/filters?${e}`;return await a(n)},async getExercisesQuote(){const t=`${s}/quote`;return await a(t)},async addSubscription(t){const e="POST",n=`${s}/subscription`,o=JSON.stringify(t);return await a(n,e,o)}};l.settings({timeout:3e3,resetOnHover:!0,icon:"material-icons",transitionIn:"flipInX",transitionOut:"flipOutX",position:"topRight"});const i={content:document.querySelector(".js-quote-content"),author:document.querySelector(".js-quote-author")};function h(){const t=localStorage.getItem("quoteData");if(t){const{quote:e,author:n,date:o}=JSON.parse(t),r=new Date(o),c=new Date;if(r.getDate()===c.getDate()){i.content.textContent=e,i.author.textContent=n;return}}d.getExercisesQuote().then(e=>{const{quote:n,author:o}=e,r={quote:n,author:o,date:new Date};localStorage.setItem("quoteData",JSON.stringify(r)),i.content.textContent=n,i.author.textContent=o}).catch(e=>console.log(e))}h();const p=(t,e,n)=>{l.show({message:t,drag:!0,close:!1,timeout:n??5e3,position:"topRight",messageColor:"#2a2a2a",closeOnClick:!0,animateInside:!0,backgroundColor:e??"#fa903e"})},g=document.querySelector(".js-gallery"),w=document.querySelector(".js-filter-block"),m=document.querySelectorAll(".js-filter"),x=m[0].textContent.trim(),y={page:1,limit:9,filter:x};f(y);function f(t){d.getExercisesFilter(t).then(e=>E(e.results)).catch(e=>p("An error occurred while loading data"))}function E(t){g.innerHTML="";const e=t.map(({name:n,filter:o,imgURL:r})=>`<li class="gallery-item">
        <img src="${r}" alt="${n}" class="card-image">
        <p>${n}</p>
        <span>${o}</span>
       </li>`);g.innerHTML=e.join("")}w.addEventListener("click",S);function S(t){if(t.target!==t.currentTarget&&(m.forEach(e=>{e.classList.remove("active")}),t.target.classList.contains("js-filter"))){const e=t.target.dataset.filter;t.target.classList.add("active"),f({...y,filter:e})}}const b=document.getElementById("subscribe-form");b.addEventListener("submit",async t=>{t.preventDefault();const e=t.target.elements.email.value;try{await d.addSubscription({email:e}),l.success({title:"Congrats! You've been subscribed!"})}catch{l.info({title:"Subscription already exists"})}finally{t.target.reset()}});const u=document.getElementById("scroll-top"),q=()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0},D=()=>{window.scrollY>window.innerHeight?u.classList.add("scroll-show"):u.classList.remove("scroll-show")};window.addEventListener("scroll",D);u.addEventListener("click",q);
//# sourceMappingURL=commonHelpers2.js.map
