{"version":3,"file":"commonHelpers2.js","sources":["../src/js/helper.js","../src/js/services/api-service.js","../src/js/quote-of-the-day.js","../src/js/services/iziToast.js","../src/js/services/gallery-service.js","../src/js/gallery.js","../src/js/services/subscribe-action.js","../src/js/gallery-events.js","../src/js/scroll-top.js","../src/js/index.js"],"sourcesContent":["import iziToast from 'izitoast';\n\n// iziToast settings\niziToast.settings({\n  timeout: 3000,\n  resetOnHover: true,\n  icon: 'material-icons',\n  transitionIn: 'flipInX',\n  transitionOut: 'flipOutX',\n  position: 'topRight',\n});\n","const BASE_URL = 'https://your-energy.b.goit.study/api';\n\nexport const fetchData = async (path, method, body) => {\n  const headers = { 'Content-type': 'application/json' };\n  const init = { headers, method, body };\n  return fetch(path, init).then(resp => {\n    if (!resp.ok)\n      throw new Error(`Error: status: ${resp.status}, ${resp.statusText}`);\n    return resp.json();\n  });\n};\n\nexport const fetchApi = {\n  async getExercises(exercisesParams) {\n    const params = new URLSearchParams(exercisesParams);\n    const url = `${BASE_URL}/exercises?${params}`;\n    return await fetchData(url);\n  },\n\n  async getExercisesId(id) {\n    const url = `${BASE_URL}/exercises/${id}`;\n    return await fetchData(url);\n  },\n\n  async editExercisesIdRating(id, ratingBody) {\n    const method = 'PATCH';\n    const url = `${BASE_URL}/exercises/${id}/rating`;\n    const body = JSON.stringify(ratingBody);\n    return await fetchData(url, method, body);\n  },\n\n  async getExercisesFilter(filterParams) {\n    const params = new URLSearchParams(filterParams);\n    const url = `${BASE_URL}/filters?${params}`;\n    return await fetchData(url);\n  },\n\n  async getExercisesQuote() {\n    const url = `${BASE_URL}/quote`;\n    return await fetchData(url);\n  },\n\n  async addSubscription(subscriptionBody) {\n    const method = 'POST';\n    const url = `${BASE_URL}/subscription`;\n    const body = JSON.stringify(subscriptionBody);\n    return await fetchData(url, method, body);\n  },\n};\n","import { fetchApi } from './services/api-service';\n\nconst quote = {\n  content: document.querySelector('.js-quote-content'),\n  author: document.querySelector('.js-quote-author'),\n};\n\nfunction getQuoteData() {\n  const storedQuote = localStorage.getItem('quoteData');\n  if (storedQuote) {\n    const { quote: quoteContent, author, date } = JSON.parse(storedQuote);\n    const savedDate = new Date(date);\n    const currentDate = new Date();\n\n    if (savedDate.getDate() === currentDate.getDate()) {\n      quote.content.textContent = quoteContent;\n      quote.author.textContent = author;\n      return;\n    }\n  }\n\n  fetchApi\n    .getExercisesQuote()\n    .then(resp => {\n      const { quote: newQuote, author } = resp;\n      const quoteData = { quote: newQuote, author, date: new Date() };\n      localStorage.setItem('quoteData', JSON.stringify(quoteData));\n      quote.content.textContent = newQuote;\n      quote.author.textContent = author;\n    })\n    .catch(err => console.log(err));\n}\ngetQuoteData();\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport const showIziToast = (message, color, time) => {\n  iziToast.show({\n    message,\n    drag: true,\n    close: false,\n    timeout: time ?? 5000,\n    position: 'topRight',\n    messageColor: '#2a2a2a',\n    closeOnClick: true,\n    animateInside: true,\n    backgroundColor: color ?? '#fa903e',\n  });\n};\n","export function galleryTemplate(data) {\n  const gallery = document.querySelector('.js-gallery');\n  const template = document.querySelector('#exercise-group');\n\n  data.forEach(({ name, filter, imgURL }) => {\n    const clone = template.content.cloneNode(true);\n    const cardItem = clone.querySelector('.card-item');\n    cardItem.setAttribute('data-name', name);\n    cardItem.style.backgroundImage = `linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(${imgURL})`;\n    const title = clone.querySelector('.card-text-title');\n    title.textContent = name;\n    const subtitle = clone.querySelector('.card-text-subtitle');\n    subtitle.textContent = filter;\n    gallery.appendChild(clone);\n  });\n}\n","import { fetchApi } from './services/api-service';\nimport { showIziToast } from './services/iziToast';\nimport { galleryTemplate } from './services/gallery-service';\n\nconst gallery = document.querySelector('.js-gallery');\nconst galleryFilterBlock = document.querySelector('.js-filter-block');\nconst galleryFilter = document.querySelectorAll('.js-filter');\n\nconst filter = galleryFilter[0].textContent.trim();\nconst filterParams = {\n  page: 1,\n  limit: 9,\n  filter,\n};\ngetExercisesGallery(filterParams);\n\nfunction getExercisesGallery(params) {\n  fetchApi\n    .getExercisesFilter(params)\n    .then(resp => renderGalleryMarkup(resp.results))\n    .catch(err => showIziToast(err.message));\n}\n\nfunction renderGalleryMarkup(data) {\n  gallery.innerHTML = '';\n  galleryTemplate(data);\n}\n\ngalleryFilterBlock.addEventListener('click', handlerClick);\n\nfunction handlerClick(evt) {\n  if (evt.target === evt.currentTarget) return;\n  galleryFilter.forEach(button => {\n    button.classList.remove('active');\n  });\n  if (evt.target.classList.contains('js-filter')) {\n    const filterValue = evt.target.dataset.filter;\n    evt.target.classList.add('active');\n    getExercisesGallery({ ...filterParams, filter: filterValue });\n  }\n}\n","import iziToast from 'izitoast';\n\nimport { fetchApi } from './api-service';\n\n\nconst form = document.getElementById('subscribe-form');\n\nform.addEventListener('submit', async e => {\n  e.preventDefault();\n  const email = e.target.elements.email.value;\n\n  try {\n    await fetchApi.addSubscription({ email });\n    iziToast.success({\n      title: \"Congrats! You've been subscribed!\",\n    });\n  } catch (err) {\n    iziToast.info({\n      title: 'Subscription already exists',\n    });\n  } finally {\n    e.target.reset();\n  }\n});\n","import { fetchApi } from './services/api-service';\n\n\n// Constants\n\nexport const galaryState = {\n    page: '',\n    excerciseFilter: '',\n    filter: 'muscles',\n    keyword: '',\n}\n\nconst elems = {\n    elGallery: document.querySelector('.js-gallery'),\n    elMainBreadCrumbsState: document.querySelector('.js-bradcrumbs'),\n    elFilterBreadcrumb: document.querySelector('.js-bradcrumbs-filter'),\n    elFilters: document.querySelector('.js-filter-block'),\n    elInput: document.querySelector('.js-search-input'),\n    elSearchForm: document.querySelector('.js-search-form'),\n}\n\nconst defaultParams = {\n  page: 1,\n  limit: 10\n};\n\n\n// Functions\n\nfunction capitalizeFirstLetter(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\nfunction renderNavigation() {\n    elems.elMainBreadCrumbsState.textContent = `${galaryState.page} ${galaryState.excerciseFilter ? ' /' : ''}`;\n    elems.elFilterBreadcrumb.textContent = galaryState.excerciseFilter ? capitalizeFirstLetter(galaryState.excerciseFilter) : '';\n    if (galaryState.page === 'Excercises') {\n        if (galaryState.excerciseFilter) {\n            elems.elSearchForm.hidden = false;\n        }\n        else {\n            elems.elSearchForm.hidden = true;\n        }\n    } else if (galaryState.page === 'Favorites') {\n        elems.elSearchForm.hidden = true;\n        elems.elFilters.hidden = true;\n    }\n}\n\n// Events\n\nfunction handlerGallaryClick(evt) {\n    if (evt.target === evt.currentTarget) return;\n    \n    const galleryItem = evt.target.closest('.gallery-item');\n    const excerciseFilter = galleryItem.dataset.name;\n    galaryState.excerciseFilter = excerciseFilter;\n    renderNavigation();\n\n    if (galaryState.page === 'Excercises') {\n        getExercisesGallery()\n    } else if (galaryState.page === 'Favorites') {\n\n    }\n}\n\nfunction handlerFilterClick(evt) {\n    if (evt.target === evt.currentTarget) return;\n    if (evt.target.classList.contains('js-filter')) {\n        galaryState.filter = evt.target.dataset.filter;\n        galaryState.excerciseFilter = '';\n        renderNavigation();\n    }\n}\n\n// Listeners\n\nelems.elGallery.addEventListener('click', handlerGallaryClick);\nelems.elFilters.addEventListener('click', handlerFilterClick);\n\n// Render Excercises Gallery\nfunction getExercisesGallery() {\n\n    const params = { ...defaultParams };\n    if (galaryState.page === 'Excercises') {\n        if (galaryState.excerciseFilter) {\n            if (galaryState.filter == 'muscles') {\n                params.muscles = galaryState.excerciseFilter;\n            } else if (galaryState.filter == 'equipment') {\n                params.equipment = galaryState.excerciseFilter;\n            } else if (galaryState.filter == 'Body parts') {\n                params.bodypart = galaryState.excerciseFilter;\n            }\n\n            if (galaryState.keyword) {\n                params.keyword = galaryState.keyword;\n            }\n            fetchApi\n            .getExercises(params)\n            .then(resp => renderGalleryMarkup(resp.results))\n            .catch(err => showIziToast('An error occurred while loading data'));\n        }\n        else {\n            // function for modal window open\n        }\n    }\n}\n\nfunction renderGalleryMarkup(data) {\n    // TODO: \n    // dirty rander. develop next time TODO\n    elems.elGallery.innerHTML = '';\n    const galleryMarkup = data.map(\n        ({ _id, burnedCalories, bodyPart, target, rating, name }) =>\n        `<li class=\"gallery-item\" data-id=\"${_id}\">\n            <p>${name}</p>\n            <span>${target}</span>\n        </li>`\n    );\n    elems.elGallery.innerHTML = galleryMarkup.join('');\n}\n","const scrollBtn = document.getElementById('scroll-top');\n\nconst topFunction = () => {\n  document.body.scrollTop = 0;\n  document.documentElement.scrollTop = 0;\n};\n\nconst scrollBtnDisplay = () => {\n  window.scrollY > window.innerHeight\n    ? scrollBtn.classList.add('scroll-show')\n    : scrollBtn.classList.remove('scroll-show');\n};\n\nwindow.addEventListener('scroll', scrollBtnDisplay);\nscrollBtn.addEventListener('click', topFunction);\n","import './helper';\nimport './quote-of-the-day';\nimport './gallery';\nimport './services/subscribe-action';\nimport './gallery-events';\nimport './scroll-top';\nimport { galaryState } from './gallery-events';\n\ngalaryState.page = 'Excercises';\n"],"names":["iziToast","BASE_URL","fetchData","path","method","body","resp","fetchApi","exercisesParams","params","url","id","ratingBody","filterParams","subscriptionBody","quote","getQuoteData","storedQuote","quoteContent","author","date","savedDate","currentDate","newQuote","quoteData","err","showIziToast","message","color","time","galleryTemplate","data","gallery","template","name","filter","imgURL","clone","cardItem","title","subtitle","galleryFilterBlock","galleryFilter","getExercisesGallery","renderGalleryMarkup","handlerClick","evt","button","filterValue","form","email","galaryState","elems","defaultParams","capitalizeFirstLetter","string","renderNavigation","handlerGallaryClick","excerciseFilter","handlerFilterClick","galleryMarkup","_id","burnedCalories","bodyPart","target","rating","scrollBtn","topFunction","scrollBtnDisplay"],"mappings":"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"}