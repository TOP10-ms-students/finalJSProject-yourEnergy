import"./assets/styles-793d1078.js";import{i as g}from"./assets/vendor-ad859c2f.js";g.settings({timeout:3e3,resetOnHover:!0,icon:"material-icons",transitionIn:"flipInX",transitionOut:"flipOutX",position:"topRight"});const i="https://your-energy.b.goit.study/api",l=async(e,t,r)=>fetch(e,{headers:{"Content-type":"application/json"},method:t,body:r}).then(c=>{if(!c.ok)throw new Error(`Error: status: ${c.status}, ${c.statusText}`);return c.json()}),y={async getExercises(e){const t=new URLSearchParams(e),r=`${i}/exercises?${t}`;return await l(r)},async getExercisesId(e){const t=`${i}/exercises/${e}`;return await l(t)},async editExercisesIdRating(e,t){const r="PATCH",n=`${i}/exercises/${e}/rating`,o=JSON.stringify(t);return await l(n,r,o)},async getExercisesFilter(e){const t=new URLSearchParams(e),r=`${i}/filters?${t}`;return await l(r)},async getExercisesQuote(){const e=`${i}/quote`;return await l(e)},async addSubscription(e){const t="POST",r=`${i}/subscription`,n=JSON.stringify(e);return await l(r,t,n)}},m={content:document.querySelector(".js-quote-content"),author:document.querySelector(".js-quote-author")};function F(){const e=localStorage.getItem("quoteData");if(e){const{quote:t,author:r,date:n}=JSON.parse(e),o=new Date(n),c=new Date;if(o.getDate()===c.getDate()){m.content.textContent=t,m.author.textContent=r;return}}y.getExercisesQuote().then(t=>{const{quote:r,author:n}=t,o={quote:r,author:n,date:new Date};localStorage.setItem("quoteData",JSON.stringify(o)),m.content.textContent=r,m.author.textContent=n}).catch(t=>console.log(t))}F();const w=(e,t,r)=>{g.show({message:e,drag:!0,close:!1,timeout:r??5e3,position:"topRight",messageColor:"#2a2a2a",closeOnClick:!0,animateInside:!0,backgroundColor:t??"#fa903e"})};function E(e){const t=document.querySelector(".js-gallery"),r=document.querySelector("#exercise-group");e.forEach(({name:n,filter:o,imgURL:c})=>{const u=r.content.cloneNode(!0),d=u.querySelector(".card-item");d.setAttribute("data-name",n),d.style.backgroundImage=`linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(${c})`;const b=u.querySelector(".card-text-title");b.textContent=n;const q=u.querySelector(".card-text-subtitle");q.textContent=o,t.appendChild(u)})}const C=document.querySelector(".js-gallery"),$=document.querySelector(".js-filter-block"),p=document.querySelectorAll(".js-filter"),L=p[0].textContent.trim(),h={page:1,limit:9,filter:L};x(h);function x(e){y.getExercisesFilter(e).then(t=>k(t.results)).catch(t=>w(t.message))}function k(e){C.innerHTML="",E(e)}$.addEventListener("click",j);function j(e){if(e.target!==e.currentTarget&&(p.forEach(t=>{t.classList.remove("active")}),e.target.classList.contains("js-filter"))){const t=e.target.dataset.filter;e.target.classList.add("active"),x({...h,filter:t})}}const I=document.getElementById("subscribe-form");I.addEventListener("submit",async e=>{e.preventDefault();const t=e.target.elements.email.value;try{await y.addSubscription({email:t}),g.success({title:"Congrats! You've been subscribed!"})}catch{g.info({title:"Subscription already exists"})}finally{e.target.reset()}});const s={page:"",excerciseFilter:"",filter:"muscles",keyword:""},a={elGallery:document.querySelector(".js-gallery"),elMainBreadCrumbsState:document.querySelector(".js-bradcrumbs"),elFilterBreadcrumb:document.querySelector(".js-bradcrumbs-filter"),elFilters:document.querySelector(".js-filter-block"),elInput:document.querySelector(".js-search-input"),elSearchForm:document.querySelector(".js-search-form")},T={page:1,limit:10};function D(e){return e.charAt(0).toUpperCase()+e.slice(1)}function S(){a.elMainBreadCrumbsState.textContent=`${s.page} ${s.excerciseFilter?" /":""}`,a.elFilterBreadcrumb.textContent=s.excerciseFilter?D(s.excerciseFilter):"",s.page==="Excercises"?s.excerciseFilter?a.elSearchForm.hidden=!1:a.elSearchForm.hidden=!0:s.page==="Favorites"&&(a.elSearchForm.hidden=!0,a.elFilters.hidden=!0)}function B(e){if(e.target===e.currentTarget)return;const r=e.target.closest(".gallery-item").dataset.name;s.excerciseFilter=r,S(),s.page==="Excercises"&&O()}function G(e){e.target!==e.currentTarget&&e.target.classList.contains("js-filter")&&(s.filter=e.target.dataset.filter,s.excerciseFilter="",S())}a.elGallery.addEventListener("click",B);a.elFilters.addEventListener("click",G);function O(){const e={...T};s.page==="Excercises"&&s.excerciseFilter&&(s.filter=="muscles"?e.muscles=s.excerciseFilter:s.filter=="equipment"?e.equipment=s.excerciseFilter:s.filter=="Body parts"&&(e.bodypart=s.excerciseFilter),y.getExercises(e).then(t=>v(t.results)).catch(t=>showIziToast("An error occurred while loading data")))}function v(e){a.elGallery.innerHTML="";const t=e.map(({_id:r,burnedCalories:n,bodyPart:o,target:c,rating:u,name:d})=>`<li class="gallery-item" data-id="${r}">
            <p>${d}</p>
            <span>${c}</span>
        </li>`);a.elGallery.innerHTML=t.join("")}const f=document.getElementById("scroll-top"),M=()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0},A=()=>{window.scrollY>window.innerHeight?f.classList.add("scroll-show"):f.classList.remove("scroll-show")};window.addEventListener("scroll",A);f.addEventListener("click",M);s.page="Excercises";
//# sourceMappingURL=commonHelpers2.js.map
