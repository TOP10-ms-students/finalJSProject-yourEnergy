{"version":3,"file":"commonHelpers2.js","sources":["../src/js/services/api-service.js","../src/js/helper.js","../src/js/quote-of-the-day.js","../src/js/services/iziToast.js","../src/js/gallery.js","../src/js/services/subscribe-action.js"],"sourcesContent":["const BASE_URL = 'https://your-energy.b.goit.study/api';\n\nexport const fetchData = async (path, method, body) => {\n  const headers = { 'Content-type': 'application/json' };\n  const init = { headers, method, body };\n  return fetch(path, init).then(resp => {\n    if (!resp.ok) throw new Error(resp.statusText);\n    return resp.json();\n  });\n};\n\nexport const fetchApi = {\n  async getExercises(exercisesParams) {\n    const params = new URLSearchParams(exercisesParams);\n    const url = `${BASE_URL}/exercises?${params}`;\n    return await fetchData(url);\n  },\n\n  async getExercisesId(id) {\n    const url = `${BASE_URL}/exercises/${id}`;\n    return await fetchData(url);\n  },\n\n  async editExercisesIdRating(id, ratingBody) {\n    const method = 'PATCH';\n    const url = `${BASE_URL}/exercises/${id}/rating`;\n    const body = JSON.stringify(ratingBody);\n    return await fetchData(url, method, body);\n  },\n\n  async getExercisesFilter(filterParams) {\n    const params = new URLSearchParams(filterParams);\n    const url = `${BASE_URL}/filters?${params}`;\n    return await fetchData(url);\n  },\n\n  async getExercisesQuote() {\n    const url = `${BASE_URL}/quote`;\n    return await fetchData(url);\n  },\n\n  async addSubscription(subscriptionBody) {\n    const method = 'POST';\n    const url = `${BASE_URL}/subscription`;\n    const body = JSON.stringify(subscriptionBody);\n    return await fetchData(url, method, body);\n  },\n};\n","import iziToast from 'izitoast';\n\n// iziToast settings\niziToast.settings({\n  timeout: 3000,\n  resetOnHover: true,\n  icon: 'material-icons',\n  transitionIn: 'flipInX',\n  transitionOut: 'flipOutX',\n  position: 'topRight',\n});\n","import { fetchApi } from './services/api-service';\n\nconst quote = {\n  content: document.querySelector('.js-quote-content'),\n  author: document.querySelector('.js-quote-author'),\n};\n\nfunction getQuoteData() {\n  const storedQuote = localStorage.getItem('quoteData');\n  if (storedQuote) {\n    const { quote: quoteContent, author, date } = JSON.parse(storedQuote);\n    const savedDate = new Date(date);\n    const currentDate = new Date();\n\n    if (savedDate.getDate() === currentDate.getDate()) {\n      quote.content.textContent = quoteContent;\n      quote.author.textContent = author;\n      return;\n    }\n  }\n\n  fetchApi\n    .getExercisesQuote()\n    .then(resp => {\n      const { quote: newQuote, author } = resp;\n      const quoteData = { quote: newQuote, author, date: new Date() };\n      localStorage.setItem('quoteData', JSON.stringify(quoteData));\n      quote.content.textContent = newQuote;\n      quote.author.textContent = author;\n    })\n    .catch(err => console.log(err));\n}\ngetQuoteData();\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport const showIziToast = (message, color, time) => {\n  iziToast.show({\n    message,\n    drag: true,\n    close: false,\n    timeout: time ?? 5000,\n    position: 'topRight',\n    messageColor: '#2a2a2a',\n    closeOnClick: true,\n    animateInside: true,\n    backgroundColor: color ?? '#fa903e',\n  });\n};\n","import { fetchApi } from './services/api-service';\nimport { showIziToast } from './services/iziToast';\n\nconst gallery = document.querySelector('.js-gallery');\nconst galleryFilterBlock = document.querySelector('.js-filter-block');\nconst galleryFilter = document.querySelectorAll('.js-filter');\n\nconst filter = galleryFilter[0].textContent.trim();\nconst filterParams = {\n  page: 1,\n  limit: 9,\n  filter,\n};\ngetExercisesGallery(filterParams);\n\nfunction getExercisesGallery(params) {\n  fetchApi\n    .getExercisesFilter(params)\n    .then(resp => renderGalleryMarkup(resp.results))\n    .catch(err => showIziToast('An error occurred while loading data'));\n}\n\nfunction renderGalleryMarkup(data) {\n  gallery.innerHTML = '';\n  const galleryMarkup = data.map(\n    ({ name, filter, imgURL }) =>\n      `<li class=\"gallery-item\">\n        <img src=\"${imgURL}\" alt=\"${name}\" class=\"card-image\">\n        <p>${name}</p>\n        <span>${filter}</span>\n       </li>`\n  );\n  gallery.innerHTML = galleryMarkup.join('');\n}\n\ngalleryFilterBlock.addEventListener('click', handlerClick);\n\nfunction handlerClick(evt) {\n  if (evt.target === evt.currentTarget) return;\n  galleryFilter.forEach(button => {\n    button.classList.remove('active');\n  });\n  if (evt.target.classList.contains('js-filter')) {\n    const filterValue = evt.target.dataset.filter;\n    evt.target.classList.add('active');\n    getExercisesGallery({ ...filterParams, filter: filterValue });\n  }\n}\n","import iziToast from 'izitoast';\n\nimport { fetchApi } from './api-service';\n\n\nconst form = document.getElementById('subscribe-form');\n\nform.addEventListener('submit', async e => {\n  e.preventDefault();\n  const email = e.target.elements.email.value;\n\n  try {\n    await fetchApi.addSubscription({ email });\n    iziToast.success({\n      title: \"Congrats! You've been subscribed!\",\n    });\n  } catch (err) {\n    iziToast.info({\n      title: 'Subscription already exists',\n    });\n  } finally {\n    e.target.reset();\n  }\n});\n"],"names":["BASE_URL","fetchData","path","method","body","resp","fetchApi","exercisesParams","params","url","id","ratingBody","filterParams","subscriptionBody","iziToast","quote","getQuoteData","storedQuote","quoteContent","author","date","savedDate","currentDate","newQuote","quoteData","err","showIziToast","message","color","time","gallery","galleryFilterBlock","galleryFilter","filter","getExercisesGallery","renderGalleryMarkup","data","galleryMarkup","name","imgURL","handlerClick","evt","button","filterValue","form","e","email"],"mappings":"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"}