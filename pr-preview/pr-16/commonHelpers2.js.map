{"version":3,"file":"commonHelpers2.js","sources":["../src/js/services/api-service.js","../src/js/gallery.js"],"sourcesContent":["const BASE_URL = 'https://your-energy.b.goit.study/api';\n\nexport const fetchData = async (path, method, body) => {\n  const headers = { 'Content-type': 'application/json' };\n  const init = { headers, method, body };\n  return fetch(path, init)\n    .then(response => response.json())\n    .catch(err => {\n      throw err;\n    });\n};\n\nexport const fetchApi = {\n  async getExercises(exercisesParams) {\n    const params = new URLSearchParams(exercisesParams);\n    const url = `${BASE_URL}/exercises?${params}`;\n    return await fetchData(url);\n  },\n\n  async getExercisesId(id) {\n    const url = `${BASE_URL}/exercises/${id}`;\n    return await fetchData(url);\n  },\n\n  async editExercisesIdRating(id, ratingBody) {\n    const method = 'PATCH';\n    const url = `${BASE_URL}/exercises/${id}/rating`;\n    const body = JSON.stringify(ratingBody);\n    return await fetchData(url, method, body);\n  },\n\n  async getExercisesFilter(filterParams) {\n    const params = new URLSearchParams(filterParams);\n    const url = `${BASE_URL}/filters?${params}`;\n    return await fetchData(url);\n  },\n\n  async getExercisesQuote() {\n    const url = `${BASE_URL}/quote`;\n    return await fetchData(url);\n  },\n\n  async addSubscription(subscriptionBody) {\n    const method = 'POST';\n    const url = `${BASE_URL}/subscription`;\n    const body = JSON.stringify(subscriptionBody);\n    return await fetchData(url, method, body);\n  },\n};\n","import { fetchApi } from './services/api-service';\n\nconst gallery = document.querySelector('.js-gallery');\nconst galleryFilter = document.querySelectorAll('.js-gallery-filter li');\n\nconst filter = galleryFilter[0].textContent.trim();\nconst filterParams = {\n  page: 1,\n  limit: 9,\n  filter,\n};\ngetExercisesGallery(filterParams);\n\nfunction getExercisesGallery(params) {\n  fetchApi\n    .getExercisesFilter(params)\n    .then(resp => {\n      gallery.innerHTML = '';\n      const galleryMarkup = resp.results.map(\n        ({ name, filter, imgURL }) =>\n          `<li class=\"gallery-item\">\n            <img src=\"${imgURL}\" alt=\"${name}\" class=\"card-image\">\n            <p>${name}</p>\n            <span>${filter}</span>\n           </li>`\n      );\n      gallery.innerHTML = galleryMarkup.join('');\n    })\n    .catch(err => console.error(err));\n}\n\ngalleryFilter.forEach(filterElement => {\n  filterElement.addEventListener('click', () => {\n    galleryFilter.forEach(element => {\n      element.classList.remove('active');\n    });\n    filterElement.classList.add('active');\n    const filterValue = filterElement.textContent.trim();\n    getExercisesGallery({ ...filterParams, filter: filterValue });\n  });\n});\n"],"names":["BASE_URL","fetchData","path","method","body","response","err","fetchApi","exercisesParams","params","url","id","ratingBody","filterParams","subscriptionBody","gallery","galleryFilter","filter","getExercisesGallery","resp","galleryMarkup","name","imgURL","filterElement","element","filterValue"],"mappings":"oCAAA,MAAMA,EAAW,uCAEJC,EAAY,MAAOC,EAAMC,EAAQC,IAGrC,MAAMF,EADA,CAAE,QADC,CAAE,eAAgB,oBACV,OAAAC,EAAQ,KAAAC,CAAI,CACb,EACpB,KAAKC,GAAYA,EAAS,MAAM,EAChC,MAAMC,GAAO,CACZ,MAAMA,CACZ,CAAK,EAGQC,EAAW,CACtB,MAAM,aAAaC,EAAiB,CAClC,MAAMC,EAAS,IAAI,gBAAgBD,CAAe,EAC5CE,EAAM,GAAGV,CAAQ,cAAcS,CAAM,GAC3C,OAAO,MAAMR,EAAUS,CAAG,CAC3B,EAED,MAAM,eAAeC,EAAI,CACvB,MAAMD,EAAM,GAAGV,CAAQ,cAAcW,CAAE,GACvC,OAAO,MAAMV,EAAUS,CAAG,CAC3B,EAED,MAAM,sBAAsBC,EAAIC,EAAY,CAC1C,MAAMT,EAAS,QACTO,EAAM,GAAGV,CAAQ,cAAcW,CAAE,UACjCP,EAAO,KAAK,UAAUQ,CAAU,EACtC,OAAO,MAAMX,EAAUS,EAAKP,EAAQC,CAAI,CACzC,EAED,MAAM,mBAAmBS,EAAc,CACrC,MAAMJ,EAAS,IAAI,gBAAgBI,CAAY,EACzCH,EAAM,GAAGV,CAAQ,YAAYS,CAAM,GACzC,OAAO,MAAMR,EAAUS,CAAG,CAC3B,EAED,MAAM,mBAAoB,CACxB,MAAMA,EAAM,GAAGV,CAAQ,SACvB,OAAO,MAAMC,EAAUS,CAAG,CAC3B,EAED,MAAM,gBAAgBI,EAAkB,CACtC,MAAMX,EAAS,OACTO,EAAM,GAAGV,CAAQ,gBACjBI,EAAO,KAAK,UAAUU,CAAgB,EAC5C,OAAO,MAAMb,EAAUS,EAAKP,EAAQC,CAAI,CACzC,CACH,EC9CMW,EAAU,SAAS,cAAc,aAAa,EAC9CC,EAAgB,SAAS,iBAAiB,uBAAuB,EAEjEC,EAASD,EAAc,CAAC,EAAE,YAAY,KAAI,EAC1CH,EAAe,CACnB,KAAM,EACN,MAAO,EACP,OAAAI,CACF,EACAC,EAAoBL,CAAY,EAEhC,SAASK,EAAoBT,EAAQ,CACnCF,EACG,mBAAmBE,CAAM,EACzB,KAAKU,GAAQ,CACZJ,EAAQ,UAAY,GACpB,MAAMK,EAAgBD,EAAK,QAAQ,IACjC,CAAC,CAAE,KAAAE,EAAM,OAAAJ,EAAQ,OAAAK,CAAQ,IACvB;AAAA,wBACcA,CAAM,UAAUD,CAAI;AAAA,iBAC3BA,CAAI;AAAA,oBACDJ,CAAM;AAAA,iBAE1B,EACMF,EAAQ,UAAYK,EAAc,KAAK,EAAE,CAC/C,CAAK,EACA,MAAMd,GAAO,QAAQ,MAAMA,CAAG,CAAC,CACpC,CAEAU,EAAc,QAAQO,GAAiB,CACrCA,EAAc,iBAAiB,QAAS,IAAM,CAC5CP,EAAc,QAAQQ,GAAW,CAC/BA,EAAQ,UAAU,OAAO,QAAQ,CACvC,CAAK,EACDD,EAAc,UAAU,IAAI,QAAQ,EACpC,MAAME,EAAcF,EAAc,YAAY,KAAI,EAClDL,EAAoB,CAAE,GAAGL,EAAc,OAAQY,CAAa,CAAA,CAChE,CAAG,CACH,CAAC"}