import{f as b}from"./assets/quote-of-the-day-bbd85935.js";import{i as d}from"./assets/vendor-ad859c2f.js";d.settings({timeout:3e3,resetOnHover:!0,icon:"material-icons",transitionIn:"flipInX",transitionOut:"flipOutX",position:"topRight"});const S=(e,t,n)=>{d.show({message:e,drag:!0,close:!1,timeout:n??5e3,position:"topRight",messageColor:"#2a2a2a",closeOnClick:!0,animateInside:!0,backgroundColor:t??"#fa903e"})};function C(e){const t=document.querySelector(".js-gallery"),n=document.querySelector("#exercise-group"),s=document.createDocumentFragment();e.forEach(({name:c="",filter:i="",imgURL:o=""})=>{const u=o?`linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(${o})`:'linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1)), url("./img/no-img.jpg")',a=n.content.cloneNode(!0),f=a.querySelector(".card-item");f.setAttribute("data-name",c),f.style.backgroundImage=u;const L=a.querySelector(".card-text-title");L.textContent=c;const k=a.querySelector(".card-text-subtitle");k.textContent=i,o||f.classList.add("noImg"),s.appendChild(a)}),t.appendChild(s)}function j(e,t,n){if(n.page>=e)return;const s=document.querySelector(".js-pagination");s.innerHTML="";for(let c=1;c<=e;c++){const i=document.createElement("button");i.textContent=c,i.setAttribute("data-btn",c),Number(i.dataset.btn)===n.page&&i.classList.add("active"),i.addEventListener("click",o=>{s.querySelectorAll("button").forEach(a=>{a.classList.remove("active")}),o.currentTarget.classList.add("active"),t({...n,page:c})}),s.appendChild(i)}}const v=document.querySelector(".js-gallery"),w=document.querySelector(".js-filter-block"),F=document.querySelectorAll(".js-filter"),I=F[0].textContent.trim(),h={page:1,limit:window.innerWidth<768?9:12,filter:I};x(h);function x(e){b.getExercisesFilter(e).then(t=>{const{totalPages:n,results:s}=t,c=M(s);T(c),j(n,x,e)}).catch(t=>S(t.message))}function T(e){v.innerHTML="",C(e)}w.addEventListener("click",B);function B(e){if(e.target!==e.currentTarget&&(F.forEach(t=>{t.classList.remove("active")}),e.target.classList.contains("js-filter"))){const t=e.target.dataset.filter;e.target.classList.add("active"),x({...h,filter:t})}}function M(e){if(window.innerWidth>767){const t=h.limit-e.length;for(let n=0;n<t;n++)e.push({})}return e}const E=document.querySelector(".js-menu-backdrop"),A=document.querySelector(".js-menu-container"),p=document.querySelector(".js-open-menu"),G=document.querySelector(".js-close-menu"),H=document.querySelectorAll(".js-menu-link");function m(){const e=p.getAttribute("aria-expanded")==="true"||!1;p.setAttribute("aria-expanded",!e),A.classList.toggle("is-open"),E.classList.toggle("is-hidden")}p.addEventListener("click",m);G.addEventListener("click",m);H.forEach(e=>{e.addEventListener("click",m)});E.addEventListener("click",({target:e,currentTarget:t})=>{t===e&&m()});const N=document.getElementById("subscribe-form");N.addEventListener("submit",async e=>{e.preventDefault();const t=e.target.elements.email.value;try{await b.addSubscription({email:t}),d.success({title:"Congrats! You've been subscribed!"})}catch{d.info({title:"Subscription already exists"})}finally{e.target.reset()}});const r={page:"",excerciseFilter:"",filter:"muscles",keyword:""},g="Excercises",O="Favorites",l={elGallery:document.querySelector(".js-gallery"),elMainBreadCrumbsState:document.querySelector(".js-bradcrumbs"),elFilterBreadcrumb:document.querySelector(".js-bradcrumbs-filter"),elFilters:document.querySelector(".js-filter-block"),elInput:document.querySelector(".js-search-input"),elSearchForm:document.querySelector(".js-search-form"),template:document.querySelector("#exercise")},$={page:1,limit:10};function z(e){return e.charAt(0).toUpperCase()+e.slice(1)}function q(){l.elMainBreadCrumbsState.textContent=`${r.page} ${r.excerciseFilter?" /":""}`,l.elFilterBreadcrumb.textContent=r.excerciseFilter?z(r.excerciseFilter):"",r.page===g?r.excerciseFilter?l.elSearchForm.hidden=!1:l.elSearchForm.hidden=!0:r.page===O&&(l.elSearchForm.hidden=!0,l.elFilters.hidden=!0)}function D(e){if(e.target===e.currentTarget)return;const t=e.target.closest(".card-item");if(!t)return;const n=t.dataset.name;r.excerciseFilter=n,q(),r.page===g&&R()}function P(e){e.target!==e.currentTarget&&e.target.classList.contains("js-filter")&&(r.filter=e.target.dataset.filter,r.excerciseFilter="",q())}l.elGallery.addEventListener("click",D);l.elFilters.addEventListener("click",P);function R(){const e={...$};r.page===g&&r.excerciseFilter&&(r.filter=="Muscles"?e.muscles=r.excerciseFilter:r.filter=="Equipment"?e.equipment=r.excerciseFilter:r.filter=="Body parts"&&(e.bodypart=r.excerciseFilter),b.getExercises(e).then(t=>W(t.results)).catch(t=>S(t.message)))}function W(e){l.elGallery.innerHTML="";for(let t=0;t<e.length;t++){const{name:n,_id:s,rating:c}=e[t],i=l.template.content.cloneNode(!0),o=i.querySelector(".ex-item-title-ex");o.textContent=n;const u=i.querySelector(".ex-item-rating-text");u.textContent=c,l.elGallery.appendChild(i)}}const y=document.getElementById("scroll-top"),X=()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0},Y=()=>{window.scrollY>window.innerHeight?y.classList.add("scroll-show"):y.classList.remove("scroll-show")};window.addEventListener("scroll",Y);y.addEventListener("click",X);r.page=g;
//# sourceMappingURL=commonHelpers2.js.map
