import"./assets/styles-793d1078.js";import{i as g}from"./assets/vendor-ad859c2f.js";g.settings({timeout:3e3,resetOnHover:!0,icon:"material-icons",transitionIn:"flipInX",transitionOut:"flipOutX",position:"topRight"});const l="https://your-energy.b.goit.study/api",u=async(e,t,r)=>fetch(e,{headers:{"Content-type":"application/json"},method:t,body:r}).then(c=>{if(!c.ok)throw new Error(`Error: status: ${c.status}, ${c.statusText}`);return c.json()}),f={async getExercises(e){const t=new URLSearchParams(e),r=`${l}/exercises?${t}`;return await u(r)},async getExercisesId(e){const t=`${l}/exercises/${e}`;return await u(t)},async editExercisesIdRating(e,t){const r="PATCH",s=`${l}/exercises/${e}/rating`,a=JSON.stringify(t);return await u(s,r,a)},async getExercisesFilter(e){const t=new URLSearchParams(e),r=`${l}/filters?${t}`;return await u(r)},async getExercisesQuote(){const e=`${l}/quote`;return await u(e)},async addSubscription(e){const t="POST",r=`${l}/subscription`,s=JSON.stringify(e);return await u(r,t,s)}},m={content:document.querySelector(".js-quote-content"),author:document.querySelector(".js-quote-author")};function w(){const e=localStorage.getItem("quoteData");if(e){const{quote:t,author:r,date:s}=JSON.parse(e),a=new Date(s),c=new Date;if(a.getDate()===c.getDate()){m.content.textContent=t,m.author.textContent=r;return}}f.getExercisesQuote().then(t=>{const{quote:r,author:s}=t,a={quote:r,author:s,date:new Date};localStorage.setItem("quoteData",JSON.stringify(a)),m.content.textContent=r,m.author.textContent=s}).catch(t=>console.log(t))}w();const h=(e,t,r)=>{g.show({message:e,drag:!0,close:!1,timeout:r??5e3,position:"topRight",messageColor:"#2a2a2a",closeOnClick:!0,animateInside:!0,backgroundColor:t??"#fa903e"})};function C(e){const t=document.querySelector(".js-gallery"),r=document.querySelector("#exercise-group");e.forEach(({name:s,filter:a,imgURL:c})=>{const i=r.content.cloneNode(!0),d=i.querySelector(".card-item");d.setAttribute("data-name",s),d.style.backgroundImage=`linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(${c})`;const F=i.querySelector(".card-text-title");F.textContent=s;const E=i.querySelector(".card-text-subtitle");E.textContent=a,t.appendChild(i)})}const L=document.querySelector(".js-gallery"),j=document.querySelector(".js-filter-block"),x=document.querySelectorAll(".js-filter"),k=x[0].textContent.trim(),S={page:1,limit:9,filter:k};b(S);function b(e){f.getExercisesFilter(e).then(t=>$(t.results)).catch(t=>h(t.message))}function $(e){L.innerHTML="",C(e)}j.addEventListener("click",D);function D(e){if(e.target!==e.currentTarget&&(x.forEach(t=>{t.classList.remove("active")}),e.target.classList.contains("js-filter"))){const t=e.target.dataset.filter;e.target.classList.add("active"),b({...S,filter:t})}}const I=document.getElementById("subscribe-form");I.addEventListener("submit",async e=>{e.preventDefault();const t=e.target.elements.email.value;try{await f.addSubscription({email:t}),g.success({title:"Congrats! You've been subscribed!"})}catch{g.info({title:"Subscription already exists"})}finally{e.target.reset()}});const n={page:"",excerciseFilter:"",filter:"muscles",keyword:""},y="Excercises",T="Favorites",o={elGallery:document.querySelector(".js-gallery"),elMainBreadCrumbsState:document.querySelector(".js-bradcrumbs"),elFilterBreadcrumb:document.querySelector(".js-bradcrumbs-filter"),elFilters:document.querySelector(".js-filter-block"),elInput:document.querySelector(".js-search-input"),elSearchForm:document.querySelector(".js-search-form"),template:document.querySelector("#exercise")},B={page:1,limit:10};function v(e){return e.charAt(0).toUpperCase()+e.slice(1)}function q(){o.elMainBreadCrumbsState.textContent=`${n.page} ${n.excerciseFilter?" /":""}`,o.elFilterBreadcrumb.textContent=n.excerciseFilter?v(n.excerciseFilter):"",n.page===y?n.excerciseFilter?o.elSearchForm.hidden=!1:o.elSearchForm.hidden=!0:n.page===T&&(o.elSearchForm.hidden=!0,o.elFilters.hidden=!0)}function O(e){if(e.target===e.currentTarget)return;const t=e.target.closest(".card-item");if(!t)return;const r=t.dataset.name;n.excerciseFilter=r,q(),n.page===y&&N()}function G(e){e.target!==e.currentTarget&&e.target.classList.contains("js-filter")&&(n.filter=e.target.dataset.filter,n.excerciseFilter="",q())}o.elGallery.addEventListener("click",O);o.elFilters.addEventListener("click",G);function N(){const e={...B};n.page===y&&n.excerciseFilter&&(n.filter=="Muscles"?e.muscles=n.excerciseFilter:n.filter=="Equipment"?e.equipment=n.excerciseFilter:n.filter=="Body parts"&&(e.bodypart=n.excerciseFilter),f.getExercises(e).then(t=>R(t.results)).catch(t=>h(t.message)))}function R(e){o.elGallery.innerHTML="";for(let t=0;t<e.length;t++){const{name:r,_id:s,rating:a}=e[t],c=o.template.content.cloneNode(!0),i=c.querySelector(".ex-item-title-ex");i.textContent=r;const d=c.querySelector(".ex-item-rating-text");d.textContent=a,o.elGallery.appendChild(c)}}const p=document.getElementById("scroll-top"),A=()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0},M=()=>{window.scrollY>window.innerHeight?p.classList.add("scroll-show"):p.classList.remove("scroll-show")};window.addEventListener("scroll",M);p.addEventListener("click",A);n.page=y;
//# sourceMappingURL=commonHelpers2.js.map
