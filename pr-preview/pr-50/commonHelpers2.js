import{f as F,a as q,o as P}from"./assets/exercise-popup-f915504f.js";import{i as y}from"./assets/vendor-ad859c2f.js";const v=(e,t,s)=>{y.show({message:e,drag:!0,close:!1,timeout:s??5e3,position:"topRight",messageColor:"#2a2a2a",closeOnClick:!0,animateInside:!0,backgroundColor:t??"#fa903e"})},h=document.querySelector(".js-gallery"),$=document.querySelector("#exercise-group"),z=document.querySelector("#exercise");function H(e){const t=document.createDocumentFragment();e.forEach(({name:s="",filter:c="",imgURL:i=""})=>{const m=i?`linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(${i})`:'linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1)), url("./img/no-img.jpg")',l=$.children[0].cloneNode(!0);l.setAttribute("data-name",s),l.style.backgroundImage=m;const f=l.querySelector(".card-text-title");f.textContent=s;const g=l.querySelector(".card-text-subtitle");g.textContent=c,i||l.classList.add("noImg"),t.appendChild(l)}),h.appendChild(t)}function O(e,t){h.innerHTML="";const s=document.createDocumentFragment();for(let c=0;c<e.length;c++){const{name:i,_id:m,rating:l,burnedCalories:f,target:g}=e[c],a=z.children[0].cloneNode(!0);a.dataset.id=m;const I=a.querySelector(".js-title");I.textContent=i;const T=a.querySelector(".js-rating");T.textContent=l;const A=a.querySelector(".js-burned-calories");A.textContent=f;const G=a.querySelector(".js-target");G.textContent=g;const D=a.querySelector(".js-filter");D.textContent=`${t.filter}:`;const N=a.querySelector(".js-filter-value");N.textContent=t.excerciseFilter,s.appendChild(a)}h.appendChild(s)}const L=function(e){const t=document.querySelector(".js-spinner");e?t.classList.remove("hidden"):setTimeout(()=>t.classList.add("hidden"),300)},R=document.querySelector(".js-gallery"),V=document.querySelector(".js-filter-block"),j=document.querySelectorAll(".js-filter"),W=j[0].textContent.trim(),E={page:1,limit:window.innerWidth<768?9:12,filter:W};o(E);function o(e){L(!0),F.getExercisesFilter(e).then(t=>{const{totalPages:s,results:c}=t,i=J(c);Y(i),q(s,o,e)}).catch(t=>v(t.message)).finally(L(!1))}function Y(e){R.innerHTML="",H(e)}V.addEventListener("click",_);function _(e){if(e.target!==e.currentTarget&&(j.forEach(t=>{t.classList.remove("active")}),e.target.classList.contains("js-filter"))){const t=e.target.dataset.filter;e.target.classList.add("active"),o({...E,filter:t})}}function J(e){if(window.innerWidth>767){const t=E.limit-e.length;for(let s=0;s<t;s++)e.push({})}return e}const w=document.querySelector(".js-menu-backdrop"),K=document.querySelector(".js-menu-container"),b=document.querySelector(".js-open-menu"),Q=document.querySelector(".js-close-menu"),X=document.querySelectorAll(".js-menu-link");function d(){const e=b.getAttribute("aria-expanded")==="true"||!1;b.setAttribute("aria-expanded",!e),K.classList.toggle("is-open"),w.classList.toggle("is-hidden")}b.addEventListener("click",d);Q.addEventListener("click",d);X.forEach(e=>{e.addEventListener("click",d)});w.addEventListener("click",({target:e,currentTarget:t})=>{t===e&&d()});const Z=document.getElementById("subscribe-form");Z.addEventListener("submit",async e=>{e.preventDefault();const t=e.target.elements.email.value;try{await F.addSubscription({email:t}),y.success({title:"Congrats! You've been subscribed!"})}catch{y.info({title:"Subscription already exists"})}finally{e.target.reset()}});const n={elGallery:document.querySelector(".js-gallery"),elMainBreadCrumbsState:document.querySelector(".js-bradcrumbs"),elInnerBreadCrumbsState:document.querySelector(".js-bradcrumbs-inner"),elFilterBreadcrumb:document.querySelector(".js-bradcrumbs-filter"),elFilters:document.querySelector(".js-filter-block"),elInput:document.querySelector(".js-search-input"),elSearchForm:document.querySelector(".js-search-form"),template:document.querySelector("#exercise"),elTrash:document.querySelector(".ex-item-trash-icon")},r={excerciseFilter:"",filter:"Muscles",keyword:"",isFilledCroupExcercises(){return!this.excerciseFilter},isFilledExcercises(){return!!this.excerciseFilter},setFilter(e){this.filter=e,this.resetExcerciseFilter(),n.elSearchForm.removeEventListener("submit",p),n.elSearchForm.removeEventListener("reset",S)},setExcerciseFilter(e){this.excerciseFilter=e,n.elSearchForm.addEventListener("submit",p),n.elSearchForm.addEventListener("reset",S)},resetExcerciseFilter(){this.excerciseFilter="",this.keyword=""}},M={page:1,limit:10};function U(e){return e.charAt(0).toUpperCase()+e.slice(1)}const k=()=>{r.resetExcerciseFilter(),r.filter="Muscles",o({...M,filter:"Muscles"}),u(),n.elFilters.querySelectorAll(".js-filter").forEach(t=>{t.classList.remove("active"),t.dataset.filter==="Muscles"&&t.classList.add("active")})};function u(){n.elFilterBreadcrumb.textContent=r.excerciseFilter?U(r.excerciseFilter):"",r.isFilledExcercises()?(n.elSearchForm.hidden=!1,n.elInnerBreadCrumbsState.hidden=!1,n.elMainBreadCrumbsState.classList.contains("bradcrumbs-active")||(n.elMainBreadCrumbsState.classList.add("bradcrumbs-active"),n.elMainBreadCrumbsState.addEventListener("click",k))):(n.elSearchForm.hidden=!0,n.elInnerBreadCrumbsState.hidden=!0,n.elMainBreadCrumbsState.classList.remove("bradcrumbs-active"),n.elMainBreadCrumbsState.removeEventListener("click",k))}function ee(e){if(e.target===e.currentTarget)return;const t=e.target;if(r.isFilledCroupExcercises()){const s=t.closest(".card-item");if(!s)return;r.setExcerciseFilter(s.dataset.name),C()}else if(r.isFilledExcercises()&&t.closest(".ex-item-start")){const i=t.closest(".ex-item").dataset.id;P(i)}u()}function te(e){e.target!==e.currentTarget&&e.target.classList.contains("js-filter")&&(r.setFilter(e.target.dataset.filter),u())}function p(e){e.preventDefault(),r.keyword=e.target.elements.search.value,C()}function S(){r.keyword="",C(),u()}n.elGallery.addEventListener("click",ee);n.elFilters.addEventListener("click",te);n.elSearchForm.addEventListener("submit",p);n.elSearchForm.addEventListener("reset",S);function C(){const e={...M};r.filter=="Muscles"?e.muscles=r.excerciseFilter:r.filter=="Equipment"?e.equipment=r.excerciseFilter:r.filter=="Body parts"&&(e.bodypart=r.excerciseFilter),r.keyword&&(e.keyword=r.keyword),B(e)}function B(e){F.getExercises(e).then(t=>{const{totalPages:s,results:c}=t;O(c,r),q(s,B,e)}).catch(t=>v(t.message))}const x=document.getElementById("scroll-top"),re=()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0},se=()=>{window.scrollY>window.innerHeight?x.classList.add("scroll-show"):x.classList.remove("scroll-show")};window.addEventListener("scroll",se);x.addEventListener("click",re);
//# sourceMappingURL=commonHelpers2.js.map
