import{f as b}from"./assets/quote-of-the-day-71d1166c.js";import{i as m}from"./assets/vendor-ad859c2f.js";m.settings({timeout:3e3,resetOnHover:!0,icon:"material-icons",transitionIn:"flipInX",transitionOut:"flipOutX",position:"topRight"});const C=(e,t,n)=>{m.show({message:e,drag:!0,close:!1,timeout:n??5e3,position:"topRight",messageColor:"#2a2a2a",closeOnClick:!0,animateInside:!0,backgroundColor:t??"#fa903e"})};function A(e){const t=document.querySelector(".js-gallery"),n=document.querySelector("#exercise-group"),l=document.createDocumentFragment();e.forEach(({name:c="",filter:o="",imgURL:a=""})=>{const d=a?`linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(${a})`:'linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1)), url("./img/no-img.jpg")',s=n.children[0].cloneNode(!0);s.setAttribute("data-name",c),s.style.backgroundImage=d;const f=s.querySelector(".card-text-title");f.textContent=c;const p=s.querySelector(".card-text-subtitle");p.textContent=o,a||s.classList.add("noImg"),l.appendChild(s)}),t.appendChild(l)}const L=function(e){const t=document.querySelector(".js-spinner");e?t.classList.remove("hidden"):setTimeout(()=>t.classList.add("hidden"),300)};function G(e,t,n){if(n.page>=e)return;const l=document.querySelector(".js-pagination");l.innerHTML="";for(let c=1;c<=e;c++){const o=document.createElement("button");o.textContent=c,o.setAttribute("data-btn",c),Number(o.dataset.btn)===n.page&&o.classList.add("active"),o.addEventListener("click",a=>{l.querySelectorAll("button").forEach(s=>{s.classList.remove("active")}),a.currentTarget.classList.add("active"),t({...n,page:c})}),l.appendChild(o)}}const P=document.querySelector(".js-gallery"),D=document.querySelector(".js-filter-block"),k=document.querySelectorAll(".js-filter"),H=k[0].textContent.trim(),F={page:1,limit:window.innerWidth<768?9:12,filter:H};E(F);function E(e){L(!0),b.getExercisesFilter(e).then(t=>{const{totalPages:n,results:l}=t,c=$(l);N(c),G(n,E,e)}).catch(t=>C(t.message)).finally(L(!1))}function N(e){P.innerHTML="",A(e)}D.addEventListener("click",O);function O(e){if(e.target!==e.currentTarget&&(k.forEach(t=>{t.classList.remove("active")}),e.target.classList.contains("js-filter"))){const t=e.target.dataset.filter;e.target.classList.add("active"),E({...F,filter:t})}}function $(e){if(window.innerWidth>767){const t=F.limit-e.length;for(let n=0;n<t;n++)e.push({})}return e}const q=document.querySelector(".js-menu-backdrop"),z=document.querySelector(".js-menu-container"),y=document.querySelector(".js-open-menu"),R=document.querySelector(".js-close-menu"),V=document.querySelectorAll(".js-menu-link");function g(){const e=y.getAttribute("aria-expanded")==="true"||!1;y.setAttribute("aria-expanded",!e),z.classList.toggle("is-open"),q.classList.toggle("is-hidden")}y.addEventListener("click",g);R.addEventListener("click",g);V.forEach(e=>{e.addEventListener("click",g)});q.addEventListener("click",({target:e,currentTarget:t})=>{t===e&&g()});const W=document.getElementById("subscribe-form");W.addEventListener("submit",async e=>{e.preventDefault();const t=e.target.elements.email.value;try{await b.addSubscription({email:t}),m.success({title:"Congrats! You've been subscribed!"})}catch{m.info({title:"Subscription already exists"})}finally{e.target.reset()}});const r={page:"",excerciseFilter:"",filter:"muscles",keyword:"",isPageExcercises(){return this.page===u},isPageFavorites(){return this.page===X},isFilledCroupExcercises(){return this.page===u&&!this.excerciseFilter},isFilledExcercises(){return!!(this.page===u&&this.excerciseFilter)},setFilter(e){this.filter=e,this.resetExcerciseFilter()},setExcerciseFilter(e){this.excerciseFilter=e},resetExcerciseFilter(){this.excerciseFilter="",this.keyword=""}},u="Excercises",X="Favorites",i={elGallery:document.querySelector(".js-gallery"),elMainBreadCrumbsState:document.querySelector(".js-bradcrumbs"),elFilterBreadcrumb:document.querySelector(".js-bradcrumbs-filter"),elFilters:document.querySelector(".js-filter-block"),elInput:document.querySelector(".js-search-input"),elSearchForm:document.querySelector(".js-search-form"),template:document.querySelector("#exercise")},Y={page:1,limit:10};function _(e){return e.charAt(0).toUpperCase()+e.slice(1)}function S(){i.elMainBreadCrumbsState.textContent=`${r.page} ${r.excerciseFilter?" /":""}`,i.elFilterBreadcrumb.textContent=r.excerciseFilter?_(r.excerciseFilter):"",r.isPageExcercises?r.isFilledExcercises?i.elSearchForm.hidden=!1:i.elSearchForm.hidden=!0:r.isPageFavorites&&(i.elSearchForm.hidden=!0,i.elFilters.hidden=!0)}function J(e){if(e.target===e.currentTarget)return;const t=e.target;if(r.isFilledCroupExcercises()){const n=t.closest(".card-item");if(!n)return;r.setExcerciseFilter(n.dataset.name),v()}else r.isFilledExcercises()&&t.closest(".ex-item-start")&&t.closest(".ex-item").dataset.id;S()}function K(e){e.target!==e.currentTarget&&e.target.classList.contains("js-filter")&&(r.setFilter(e.target.dataset.filter),S())}function Q(e){e.preventDefault(),r.keyword=e.target.elements.search.value,v()}function Z(){r.resetExcerciseFilter(),S()}i.elGallery.addEventListener("click",J);i.elFilters.addEventListener("click",K);i.elSearchForm.addEventListener("submit",Q);i.elSearchForm.addEventListener("reset",Z);function v(){const e={...Y};r.filter=="Muscles"?e.muscles=r.excerciseFilter:r.filter=="Equipment"?e.equipment=r.excerciseFilter:r.filter=="Body parts"&&(e.bodypart=r.excerciseFilter),r.keyword&&(e.keyword=r.keyword),b.getExercises(e).then(t=>U(t.results)).catch(t=>C(t.message))}function U(e){i.elGallery.innerHTML="";const t=document.createDocumentFragment();for(let n=0;n<e.length;n++){const{name:l,_id:c,rating:o,burnedCalories:a,target:d}=e[n],s=i.template.children[0].cloneNode(!0);s.dataset.id=c;const f=s.querySelector(".js-title");f.textContent=l;const p=s.querySelector(".js-rating");p.textContent=o;const I=s.querySelector(".js-burned-calories");I.textContent=a;const T=s.querySelector(".js-target");T.textContent=d;const B=s.querySelector(".js-filter");B.textContent=`${r.filter}:`;const M=s.querySelector(".js-filter-value");M.textContent=r.excerciseFilter,t.appendChild(s)}i.elGallery.appendChild(t)}const h=document.getElementById("scroll-top"),ee=()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0},te=()=>{window.scrollY>window.innerHeight?h.classList.add("scroll-show"):h.classList.remove("scroll-show")};window.addEventListener("scroll",te);h.addEventListener("click",ee);const{modalExercise:j,overlay:x}={modalExercise:document.querySelector(".modal-exercise"),overlay:document.querySelector(".overlay")};function w(){x.classList.add("hidden"),j.classList.add("hidden"),document.body.style.overflow="scroll"}x.addEventListener("click",e=>e.target===x&&w());document.addEventListener("keydown",({key:e})=>e==="Escape"&&!j.classList.contains("hidden")&&w());r.page=u;
//# sourceMappingURL=commonHelpers2.js.map
