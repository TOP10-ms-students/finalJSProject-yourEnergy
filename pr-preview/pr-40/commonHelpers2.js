import{f as x}from"./assets/quote-of-the-day-b7dce98f.js";import{i as u}from"./assets/vendor-ad859c2f.js";u.settings({timeout:3e3,resetOnHover:!0,icon:"material-icons",transitionIn:"flipInX",transitionOut:"flipOutX",position:"topRight"});const S=(e,t,i)=>{u.show({message:e,drag:!0,close:!1,timeout:i??5e3,position:"topRight",messageColor:"#2a2a2a",closeOnClick:!0,animateInside:!0,backgroundColor:t??"#fa903e"})};function I(e){const t=document.querySelector(".js-gallery"),i=document.querySelector("#exercise-group"),n=document.createDocumentFragment();e.forEach(({name:o,filter:m,imgURL:g})=>{const l=i.content.cloneNode(!0),c=l.querySelector(".card-item");c.setAttribute("data-name",o),c.style.backgroundImage=`linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(${g})`;const f=l.querySelector(".card-text-title");f.textContent=o;const y=l.querySelector(".card-text-subtitle");y.textContent=m,n.appendChild(l)}),t.appendChild(n)}const M=document.querySelector(".js-gallery"),T=document.querySelector(".js-filter-block"),b=document.querySelectorAll(".js-filter"),G=b[0].textContent.trim(),E={page:1,limit:9,filter:G};C(E);function C(e){x.getExercisesFilter(e).then(t=>A(t.results)).catch(t=>S(t.message))}function A(e){M.innerHTML="",I(e)}T.addEventListener("click",P);function P(e){if(e.target!==e.currentTarget&&(b.forEach(t=>{t.classList.remove("active")}),e.target.classList.contains("js-filter"))){const t=e.target.dataset.filter;e.target.classList.add("active"),C({...E,filter:t})}}const k=document.querySelector(".js-menu-backdrop"),D=document.querySelector(".js-menu-container"),p=document.querySelector(".js-open-menu"),O=document.querySelector(".js-close-menu"),$=document.querySelectorAll(".js-menu-link");function d(){const e=p.getAttribute("aria-expanded")==="true"||!1;p.setAttribute("aria-expanded",!e),D.classList.toggle("is-open"),k.classList.toggle("is-hidden")}p.addEventListener("click",d);O.addEventListener("click",d);$.forEach(e=>{e.addEventListener("click",d)});k.addEventListener("click",({target:e,currentTarget:t})=>{t===e&&d()});const H=document.getElementById("subscribe-form");H.addEventListener("submit",async e=>{e.preventDefault();const t=e.target.elements.email.value;try{await x.addSubscription({email:t}),u.success({title:"Congrats! You've been subscribed!"})}catch{u.info({title:"Subscription already exists"})}finally{e.target.reset()}});const r={page:"",excerciseFilter:"",filter:"muscles",keyword:"",isPageExcercises(){return this.page===a},isPageFavorites(){return this.page===N},isFilledCroupExcercises(){return this.page===a&&!this.excerciseFilter},isFilledExcercises(){return!!(this.page===a&&this.excerciseFilter)},setFilter(e){this.filter=e,this.resetExcerciseFilter()},setExcerciseFilter(e){this.excerciseFilter=e},resetExcerciseFilter(){this.excerciseFilter="",this.keyword=""}},a="Excercises",N="Favorites",s={elGallery:document.querySelector(".js-gallery"),elMainBreadCrumbsState:document.querySelector(".js-bradcrumbs"),elFilterBreadcrumb:document.querySelector(".js-bradcrumbs-filter"),elFilters:document.querySelector(".js-filter-block"),elInput:document.querySelector(".js-search-input"),elSearchForm:document.querySelector(".js-search-form"),template:document.querySelector("#exercise")},R={page:1,limit:10};function z(e){return e.charAt(0).toUpperCase()+e.slice(1)}function F(){s.elMainBreadCrumbsState.textContent=`${r.page} ${r.excerciseFilter?" /":""}`,s.elFilterBreadcrumb.textContent=r.excerciseFilter?z(r.excerciseFilter):"",r.isPageExcercises?r.isFilledExcercises?s.elSearchForm.hidden=!1:s.elSearchForm.hidden=!0:r.isPageFavorites&&(s.elSearchForm.hidden=!0,s.elFilters.hidden=!0)}function V(e){if(e.target===e.currentTarget)return;const t=e.target;if(r.isFilledCroupExcercises()){const i=t.closest(".card-item");if(!i)return;r.setExcerciseFilter(i.dataset.name),q()}else r.isFilledExcercises()&&t.closest(".ex-item-start")&&t.closest(".ex-item").dataset.id;F()}function X(e){e.target!==e.currentTarget&&e.target.classList.contains("js-filter")&&(r.setFilter(e.target.dataset.filter),F())}function Y(e){e.preventDefault(),r.keyword=e.target.elements.search.value,q()}function U(){r.resetExcerciseFilter(),F()}s.elGallery.addEventListener("click",V);s.elFilters.addEventListener("click",X);s.elSearchForm.addEventListener("submit",Y);s.elSearchForm.addEventListener("reset",U);function q(){const e={...R};r.filter=="Muscles"?e.muscles=r.excerciseFilter:r.filter=="Equipment"?e.equipment=r.excerciseFilter:r.filter=="Body parts"&&(e.bodypart=r.excerciseFilter),r.keyword&&(e.keyword=r.keyword),x.getExercises(e).then(t=>_(t.results)).catch(t=>S(t.message))}function _(e){s.elGallery.innerHTML="";const t=document.createDocumentFragment();for(let i=0;i<e.length;i++){const{name:n,_id:o,rating:m,burnedCalories:g,target:l}=e[i],c=s.template.content.cloneNode(!0),f=c.querySelector(".ex-item");f.dataset.id=o;const y=c.querySelector(".js-title");y.textContent=n;const L=c.querySelector(".js-rating");L.textContent=m;const j=c.querySelector(".js-burned-calories");j.textContent=g;const v=c.querySelector(".js-target");v.textContent=l;const w=c.querySelector(".js-filter");w.textContent=`${r.filter}:`;const B=c.querySelector(".js-filter-value");B.textContent=r.excerciseFilter,t.appendChild(c)}s.elGallery.appendChild(t)}const h=document.getElementById("scroll-top"),J=()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0},K=()=>{window.scrollY>window.innerHeight?h.classList.add("scroll-show"):h.classList.remove("scroll-show")};window.addEventListener("scroll",K);h.addEventListener("click",J);r.page=a;
//# sourceMappingURL=commonHelpers2.js.map
