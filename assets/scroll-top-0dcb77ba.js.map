{"version":3,"file":"scroll-top-0dcb77ba.js","sources":["../../src/js/services/api-service.js","../../src/js/services/iziToast.js","../../src/js/spinner.js","../../src/js/quote-of-the-day.js","../../src/js/helper.js","../../src/js/services/paginator-service.js","../../src/js/variables.js","../../src/js/favorites-gallery.js","../../src/img/example-img.jpg","../../src/js/services/storage-fav-cards.js","../../src/img/icons.svg","../../src/js/exercise-popup.js","../../src/js/mob-burger-menu.js","../../src/js/scroll-top.js"],"sourcesContent":["const BASE_URL = 'https://your-energy.b.goit.study/api';\n\nexport const fetchData = async (path, method, body) => {\n  const headers = { 'Content-type': 'application/json' };\n  const init = { headers, method, body };\n  const resp = await fetch(path, init);\n  if (!resp.ok) {\n    throw new Error(`Error: status: ${resp.status}, ${resp.statusText}`);\n  }\n  return resp.json();\n};\n\nexport const fetchApi = {\n  async getExercises(exercisesParams) {\n    const params = new URLSearchParams(exercisesParams);\n    const url = `${BASE_URL}/exercises?${params}`;\n    return await fetchData(url);\n  },\n\n  async getExercisesId(id) {\n    const url = `${BASE_URL}/exercises/${id}`;\n    return await fetchData(url);\n  },\n\n  async editExercisesIdRating(id, ratingBody) {\n    const method = 'PATCH';\n    const url = `${BASE_URL}/exercises/${id}/rating`;\n    const body = JSON.stringify(ratingBody);\n    return await fetchData(url, method, body);\n  },\n\n  async getExercisesFilter(filterParams) {\n    const params = new URLSearchParams(filterParams);\n    const url = `${BASE_URL}/filters?${params}`;\n    return await fetchData(url);\n  },\n\n  async getExercisesQuote() {\n    const url = `${BASE_URL}/quote`;\n    return await fetchData(url);\n  },\n\n  async addSubscription(subscriptionBody) {\n    const method = 'POST';\n    const url = `${BASE_URL}/subscription`;\n    const body = JSON.stringify(subscriptionBody);\n    return await fetchData(url, method, body);\n  },\n};\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport const showIziToast = (message, color, time) => {\n  iziToast.show({\n    message,\n    drag: true,\n    close: false,\n    timeout: time ?? 5000,\n    position: 'topRight',\n    messageColor: '#2a2a2a',\n    closeOnClick: true,\n    animateInside: true,\n    backgroundColor: color ?? '#fca664',\n  });\n};\n","export const setSpinner = function (status) {\n  const spinnerEl = document.querySelector('.js-spinner');\n  status\n    ? spinnerEl.classList.remove('hidden')\n    : setTimeout(() => spinnerEl.classList.add('hidden'), 300);\n};\n","import { fetchApi } from './services/api-service';\nimport { showIziToast } from './services/iziToast';\nimport { setSpinner } from './spinner';\n\nconst quote = {\n  content: document.querySelector('.js-quote-content'),\n  author: document.querySelector('.js-quote-author'),\n};\n\nfunction getQuoteData() {\n  const storedQuote = localStorage.getItem('quoteData');\n  if (storedQuote) {\n    const { quote: quoteContent, author, date } = JSON.parse(storedQuote);\n    const savedDate = new Date(date);\n    const currentDate = new Date();\n\n    if (savedDate.getDate() === currentDate.getDate()) {\n      addTextContent(quoteContent, author);\n      return;\n    }\n  }\n  fetchGetExercisesQuote();\n}\n\ngetQuoteData();\n\nasync function fetchGetExercisesQuote() {\n  try {\n    setSpinner(true);\n    const resp = await fetchApi.getExercisesQuote();\n    const { quote: newQuote, author } = resp;\n    const quoteData = { quote: newQuote, author, date: new Date() };\n    localStorage.setItem('quoteData', JSON.stringify(quoteData));\n    addTextContent(newQuote, author);\n  } catch (err) {\n    showIziToast(err.message);\n  } finally {\n    setSpinner(false);\n  }\n}\n\nfunction addTextContent(content, author) {\n  quote.content.textContent = content;\n  quote.author.textContent = author;\n}\n","import iziToast from 'izitoast';\nimport { setSpinner } from './spinner';\n\n// iziToast settings\niziToast.settings({\n  timeout: 3000,\n  resetOnHover: true,\n  icon: 'material-icons',\n  transitionIn: 'flipInX',\n  transitionOut: 'flipOutX',\n  position: 'topRight',\n});\n\nexport function scrollToTop() {\n  document\n    .querySelector('.js-gallery-scroll')\n    .scrollIntoView({ behavior: 'smooth' });\n};\n\nexport function calculateFillStar(numStar, valueStars) {\n    if (numStar + 1 <= valueStars) {\n        return 100;\n    } \n    if (numStar > valueStars) {\n          return 0;\n      };\n    return (valueStars % 1) * 100;\n};\n","import { initFavGallery } from '../favorites-gallery';\nimport { scrollToTop } from '../helper';\n\nconst paginationContainer = document.querySelector('.js-pagination');\nlet navigationObject;\n\npaginationContainer.addEventListener('click', onPaginationStep);\n\nexport function renderPagination(totalPages, fetchGallery, params, isLocal) {\n  if (totalPages === 1) {\n    paginationContainer.innerHTML = '';\n    return;\n  }\n\n  let markup = '';\n\n  for (let i = 1; i <= totalPages; i++) {\n    const isCurrentPage = i === params.page;\n\n    markup += `<button data-btn=\"${i}\" class=\"${isCurrentPage ? 'active' : ''\n      }\">${i}</button>`;\n  }\n\n  navigationObject = {\n    method: fetchGallery,\n    isLocal,\n    params,\n  };\n\n  paginationContainer.innerHTML = markup;\n}\n\nfunction onPaginationStep(evt) {\n  if (evt.target === evt.currentTarget) {\n    return;\n  }\n  const btn = evt.target;\n  const page = Number(btn.textContent);\n\n  [...paginationContainer.children]\n    .find(button => button.classList.contains('active'))\n    ?.classList.remove('active');\n\n  btn.classList.add('active');\n\n  navigationObject.isLocal\n    ? initFavGallery(page)\n    : navigationObject.method({ ...navigationObject.params, page: page });\n\n  scrollToTop();\n}","const TABLET_WIDTH = 768;\nconst TABLET_WORKOUTS_AMOUNT = 10;\nconst MOBILE_WORKOUTS_AMOUNT = 9;\nconst TABLET_GROUP_AMOUNT = 12;\nconst MOBILE_GROUP_AMOUNT = 9;\n\nexport const DESKTOP_WIDTH = 1440;\n\nexport const FAV_GALLERY_LIMIT =\n  window.innerWidth < TABLET_WIDTH\n    ? MOBILE_WORKOUTS_AMOUNT\n    : TABLET_WORKOUTS_AMOUNT;\n\nexport const FAV_CARD_CLASS_NAMES = [\n  'js-fav-target',\n  'js-fav-calories',\n  'js-fav-bodyPart',\n  'js-fav-title',\n];\n\nexport const GALLERY_LIMIT = window.innerWidth < TABLET_WIDTH\n  ? MOBILE_GROUP_AMOUNT\n  : TABLET_GROUP_AMOUNT;\nexport const MAX_SIZE_TITLE = 31;\n\n","import { renderPagination } from './services/paginator-service';\nimport { setSpinner } from './spinner';\nimport {\n  DESKTOP_WIDTH,\n  FAV_GALLERY_LIMIT as perPage,\n  FAV_CARD_CLASS_NAMES as classNames,\n} from './variables';\nimport { MAX_SIZE_TITLE } from './variables';\n\nconst TABLET_WIDTH = 768,\n  TABLET_WORKOUTS_AMOUNT = 9,\n  MOBILE_WORKOUTS_AMOUNT = 10,\n  CLASS_NAMES = [\n    'js-fav-target',\n    'js-fav-calories',\n    'js-fav-bodyPart',\n    'js-fav-title',\n  ];\n\ninitFavGallery();\n\nexport function initFavGallery(pageNumber = 1) {\n  const template = getTemplate();\n  if (!template) return;\n\n  const workouts = JSON.parse(localStorage.getItem('favWorkouts'));\n  const { favGalleryEl, emptyFavEl, paginationFavEl, fragment } = getRefs();\n  const screenWidth = window.innerWidth;\n\n  if (\n    handleEmptyWorkouts({ workouts, emptyFavEl, paginationFavEl, favGalleryEl })\n  ) {\n    return;\n  }\n\n  const { startIndex, endIndex } = handlePagination({\n    perPage,\n    totalWorkouts: workouts.length,\n    pageNumber,\n    screenWidth,\n  });\n\n  setSpinner(true);\n\n  renderGalleryItems({\n    workouts,\n    startIndex,\n    endIndex,\n    template,\n    fragment,\n    favGalleryEl,\n  });\n\n  setSpinner(false);\n}\n\nfunction getRefs() {\n  return {\n    favGalleryEl: document.querySelector('.js-fav-gallery'),\n    emptyFavEl: document.querySelector('.js-no-fav-workouts'),\n    paginationFavEl: document.querySelector('.js-pagination'),\n    fragment: document.createDocumentFragment(),\n  };\n}\n\nfunction getTemplate() {\n  return document.querySelector('#exercise-fav');\n}\n\nfunction handleEmptyWorkouts({\n  workouts,\n  emptyFavEl,\n  paginationFavEl,\n  favGalleryEl,\n}) {\n  if (!workouts?.length) {\n    emptyFavEl.classList.remove('hidden');\n    favGalleryEl.classList.add('hidden');\n    paginationFavEl.classList.add('hidden');\n    setSpinner(false);\n    return true;\n  }\n}\n\nfunction handlePagination({ perPage, totalWorkouts, pageNumber, screenWidth }) {\n  const totalPages = Math.ceil(totalWorkouts / perPage),\n    params = { page: pageNumber };\n\n  let startIndex = (pageNumber - 1) * perPage,\n    endIndex = Math.min(startIndex + perPage, totalWorkouts);\n\n  if (screenWidth < DESKTOP_WIDTH) {\n    renderPagination(totalPages, null, params, true);\n  } else {\n    startIndex = 0;\n    endIndex = totalWorkouts;\n  }\n  return { startIndex, endIndex };\n}\n\nfunction renderGalleryItems({\n  workouts,\n  startIndex,\n  endIndex,\n  template,\n  fragment,\n  favGalleryEl,\n}) {\n  for (let i = startIndex; i < endIndex; i++) {\n    const itemEl = template.children[0].cloneNode(true);\n    const elements = classNames.map(className =>\n      itemEl.querySelector(`.${className}`)\n    );\n    const {\n      _id,\n      name: title,\n      bodyPart,\n      target,\n      burnedCalories: calories,\n    } = workouts[i];\n\n    [target, calories, bodyPart, title].forEach((prop, idx) => {\n      elements[idx].textContent = prop;\n    });\n\n    itemEl.setAttribute('id', _id);\n\n    if (title.length > MAX_SIZE_TITLE) {\n      const elTooltip = itemEl.querySelector('.js-tooltip');\n      elTooltip.dataset.tooltip = title;\n\n      elTooltip.classList.add('tooltip');\n    }\n\n    fragment.appendChild(itemEl);\n  }\n\n  favGalleryEl.replaceChildren(fragment);\n}\n","export default \"__VITE_ASSET__8092028f__\"","export function addToFavorites(obj) {\n  let favorites = JSON.parse(localStorage.getItem('favWorkouts')) || [];\n  const isDuplicate = favorites.some(item => item._id === obj._id);\n\n  if (isDuplicate) {\n    return;\n  }\n\n  favorites.push(obj);\n  localStorage.setItem('favWorkouts', JSON.stringify(favorites));\n}\n\nexport function removeFromFavorites(obj) {\n  let favorites = JSON.parse(localStorage.getItem('favWorkouts')) || [];\n  let index = favorites.findIndex(item => item._id === obj._id);\n\n  if (index === -1) {\n    return;\n  }\n\n  favorites.splice(index, 1);\n  localStorage.setItem('favWorkouts', JSON.stringify(favorites));\n}\n","export default \"__VITE_ASSET__be0c168b__\"","import { fetchApi } from './services/api-service';\nimport image from '/img/example-img.jpg';\nimport { addToFavorites, removeFromFavorites } from './services/storage-fav-cards';\nimport icons from '/img/icons.svg';\nimport { setSpinner } from './spinner';\nimport { showIziToast } from './services/iziToast';\nimport { initFavGallery } from './favorites-gallery';\nimport { calculateFillStar } from './helper';\n\nconst modalExercise = document.querySelector('.modal-exercise');\nconst overlay = document.querySelector('.overlay');\nconst fullStarColor = '#eea10c';\nconst emptyStarColor = '#f4f4f433';\nconst totalStars = 5;\n\nlet isFavorite = false;\nlet currentData;\n\nexport async function openModalExercise(id) {\n    overlay.addEventListener('click', clickOnOverlay);\n    document.addEventListener('keydown', clickOnEscape);\n\n    try {\n        setSpinner(true);\n        const dataExercise = await fetchApi.getExercisesId(id);\n        currentData = dataExercise;\n        const markup = markUp(dataExercise);\n        createMarkUpModal(markup, dataExercise);\n        showModalExercise();\n    \n        const closeModalButton = document.querySelector('.modal-exercise__btn-close');\n        const buttonAddRemoveFavorites = document.querySelector('.js-favorite__btn');\n        const buttonRating = document.querySelector('.js-rating__btn');\n        closeModalButton.addEventListener('click', closeModalExercise);\n        buttonAddRemoveFavorites.addEventListener('click', toggleButton);\n        buttonRating.addEventListener('click', showNotification);\n    } catch (err) {\n        showIziToast(err.message);\n    } finally {\n        setSpinner(false);\n    };\n};\n\nfunction createMarkUpModal(markup, data) {\n    modalExercise.innerHTML = markup;\n    showRightButtons(data);\n};\n\nfunction showRightButtons(obj) {\n    const buttonAddRemoveFavorites = document.querySelector('.js-favorite__btn');\n    let favorites = JSON.parse(localStorage.getItem('favWorkouts')) || [];\n    const isDuplicate = favorites.some(item => item._id === obj._id);\n    if (isDuplicate) {\n        isFavorite = true;\n        return buttonAddRemoveFavorites.innerHTML = createRemoveButton();\n    };\n    isFavorite = false;\n    return buttonAddRemoveFavorites.innerHTML = createAddButton();\n};\n\nfunction createStarRating(rating) {\n    let starsRating = '';\n\n    for (let i = 0; i < totalStars; i += 1) {\n        const gradientId = `gradient-id${i}`;\n        const offsetPercent = calculateFillStar(i, rating);\n        \n        const linearGradient = `\n        <linearGradient id=\"${gradientId}\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n          <stop offset=\"${offsetPercent}%\" stop-color=${fullStarColor}></stop>\n            <stop offset=\"0%\" stop-color=${emptyStarColor}></stop>\n        </linearGradient>`;\n        \n        starsRating += `\n        <svg width=\"14\" height=\"13\" viewBox=\"0 0 14 13\" fill=\"none\">\n            ${linearGradient}\n            <use href=\"${icons}#icon-star\" fill=\"url(#${gradientId})\"></use>\n        </svg>`;\n    };\n    return starsRating;\n};\n\nfunction createAddButton() {\n    return `<span>Add to favorite</span>\n    <svg class=\"modal-exercise__svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\">\n      <use href=\"${icons}#icon-heart\"></use>\n    </svg>`\n};\n\nfunction createRemoveButton() {\n    return `<span>Remove from favorites</span>\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <use href=\"${icons}#icon-trash\"></use>\n    </svg>`\n};\n\nfunction markUp({\n    _id,\n    name,\n    rating,\n    gifUrl,\n    target,\n    bodyPart,\n    equipment,\n    popularity,\n    burnedCalories,\n    time,\n    description\n}) {\n    const starsRating = createStarRating(rating);\n\n    return `\n    <div class=\"modal-exercise__container\">\n            <button aria-label=\"Close modal button\" class=\"modal-exercise__btn-close\">\n                <svg width=\"24\" height=\"24\" >\n                    <use href=\"${icons}#icon-close\"></use>\n                </svg>\n            </button>\n\n            <img class=\"modal-exercise__img\" src=\"${gifUrl ?? image}\" width=\"260\" height=\"260\" alt=\"Example of exercise\" loading=\"lazy\" />\n\n            <div class=\"modal-exercise__card\">\n                <h2 class=\"modal-exercise__name\">${name}</h2>\n                <div class=\"modal-exercise__rating\">\n                    ${rating.toFixed(1)}\n                    ${starsRating}\n                </div>\n\n                <div class=\"modal-exercise__attributes\">\n                    <ul class=\"modal-exercise__list\">\n                        <li class=\"modal-exercise__item\">\n                            <h3 class=\"modal-exercise__title\">Target</h3>\n                            <p class=\"modal-exercise__text\">${target}</p>\n                        </li>\n                        \n                        <li class=\"modal-exercise__item\">\n                            <h3 class=\"modal-exercise__title\">Body Part</h3>\n                            <p class=\"modal-exercise__text\">${bodyPart}</p>\n                        </li>\n                        \n                        <li class=\"modal-exercise__item\">\n                            <h3 class=\"modal-exercise__title\">Equipment</h3>\n                            <p class=\"modal-exercise__text\">${equipment}</p>\n                        </li>\n                        \n                        <li class=\"modal-exercise__item\">\n                            <h3 class=\"modal-exercise__title\">Popular</h3>\n                            <p class=\"modal-exercise__text\">${popularity}</p>\n                        </li>\n                        \n                        <li class=\"modal-exercise__item\">\n                            <h3 class=\"modal-exercise__title\">Burned Calories</h3>\n                            <p class=\"modal-exercise__text\">${burnedCalories}/${time} min</p>\n                        </li>\n                    </ul>\n                    <p class=\"modal-exercise__description\">\n                        ${description}\n                    </p>\n                </div>\n            </div>\n        </div>\n        <div class=\"modal-exercise__btn-container\">\n            <button aria-label=\"Remove or add favorite exercise\" class=\"button button-with-icon button-white modal-exercise__btn js-favorite__btn\"></button>\n            <button aria-label=\"Give a rating\" class=\"button modal-exercise__btn js-rating__btn\">Give a rating</button>\n        </div>`\n};\n\nfunction toggleButton() {\n    const buttonAddRemoveFavorites = document.querySelector('.js-favorite__btn');\n    isFavorite = !isFavorite;   \n            \n    if (isFavorite) {\n        addToFavorites(currentData);\n        buttonAddRemoveFavorites.innerHTML = createRemoveButton();\n    } else {\n        removeFromFavorites(currentData);\n        buttonAddRemoveFavorites.innerHTML = createAddButton();\n        initFavGallery();\n    };\n};\n\nfunction clickOnOverlay(e) {\n    e.target === overlay && closeModalExercise();\n};\n\nfunction clickOnEscape({ key }) {\n    (key === \"Escape\"\n        && !modalExercise.classList.contains('hidden'))\n        && closeModalExercise();\n};\n\nfunction showNotification() {\n    showIziToast('Under development');\n};\n\nfunction showModalExercise() {\n    overlay.classList.remove('hidden');\n    modalExercise.classList.remove('hidden');\n    document.body.style.overflow = 'hidden';\n};\n\nfunction closeModalExercise() {\n    overlay.classList.add('hidden');\n    modalExercise.classList.add('hidden');\n    document.body.style.overflow = 'scroll';\n    overlay.removeEventListener('click', clickOnOverlay);\n    document.removeEventListener('keydown', clickOnEscape);\n};","const backdrop = document.querySelector('.js-menu-backdrop');\nconst mobMenu = document.querySelector('.js-menu-container');\nconst openMenuBtn = document.querySelector('.js-open-menu');\nconst closeMenuBtn = document.querySelector('.js-close-menu');\nconst mobMenuLink = document.querySelector('.js-menu-link');\n\nfunction toggleMenu() {\n  mobMenu.classList.toggle('is-open');\n  backdrop.classList.toggle('is-hidden');\n}\n\nfunction onMenuClick(evt) {\n  // in case when ul clicked //\n  if (evt.currentTarget === evt.target) {\n    return;\n  }\n  toggleMenu();\n}\n\nfunction handlerBackdrop({ target }) {\n  if (!target.closest('#mob-menu')) {\n    toggleMenu();\n  }\n}\n\nopenMenuBtn.addEventListener('click', toggleMenu);\ncloseMenuBtn.addEventListener('click', toggleMenu);\nmobMenuLink.addEventListener('click', onMenuClick);\n\nbackdrop.addEventListener('click', handlerBackdrop);\n","const scrollBtn = document.getElementById('scroll-top');\n\nconst topFunction = () => {\n  document.body.scrollTop = 0;\n  document.documentElement.scrollTop = 0;\n};\n\nconst scrollBtnDisplay = () => {\n  window.scrollY > window.innerHeight\n    ? scrollBtn.classList.add('scroll-show')\n    : scrollBtn.classList.remove('scroll-show');\n};\n\nwindow.addEventListener('scroll', scrollBtnDisplay);\nscrollBtn.addEventListener('click', topFunction);\n"],"names":["BASE_URL","fetchData","path","method","body","resp","fetchApi","exercisesParams","params","url","id","ratingBody","filterParams","subscriptionBody","showIziToast","message","color","time","iziToast","setSpinner","status","spinnerEl","quote","getQuoteData","storedQuote","quoteContent","author","date","savedDate","currentDate","addTextContent","fetchGetExercisesQuote","newQuote","quoteData","err","content","scrollToTop","calculateFillStar","numStar","valueStars","paginationContainer","navigationObject","onPaginationStep","renderPagination","totalPages","fetchGallery","isLocal","markup","i","isCurrentPage","evt","btn","page","_a","button","initFavGallery","TABLET_WIDTH","TABLET_WORKOUTS_AMOUNT","MOBILE_WORKOUTS_AMOUNT","TABLET_GROUP_AMOUNT","MOBILE_GROUP_AMOUNT","DESKTOP_WIDTH","FAV_GALLERY_LIMIT","FAV_CARD_CLASS_NAMES","GALLERY_LIMIT","MAX_SIZE_TITLE","pageNumber","template","getTemplate","workouts","favGalleryEl","emptyFavEl","paginationFavEl","fragment","getRefs","screenWidth","handleEmptyWorkouts","startIndex","endIndex","handlePagination","perPage","renderGalleryItems","totalWorkouts","itemEl","elements","classNames","className","_id","title","bodyPart","target","calories","prop","idx","elTooltip","image","addToFavorites","obj","favorites","item","removeFromFavorites","index","icons","modalExercise","overlay","fullStarColor","emptyStarColor","totalStars","isFavorite","currentData","openModalExercise","clickOnOverlay","clickOnEscape","dataExercise","markUp","createMarkUpModal","showModalExercise","closeModalButton","buttonAddRemoveFavorites","buttonRating","closeModalExercise","toggleButton","showNotification","data","showRightButtons","createRemoveButton","createAddButton","createStarRating","rating","starsRating","gradientId","offsetPercent","linearGradient","name","gifUrl","equipment","popularity","burnedCalories","description","key","backdrop","mobMenu","openMenuBtn","closeMenuBtn","mobMenuLink","toggleMenu","onMenuClick","handlerBackdrop","scrollBtn","topFunction","scrollBtnDisplay"],"mappings":"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"}