import{s as a,f as S,a as E,b as d,o as G}from"./assets/mob-burger-menu-c95e4464.js";import"./assets/vendor-ad859c2f.js";const g=document.querySelector(".js-gallery"),A=document.querySelector("#exercise-group"),D=document.querySelector("#exercise"),H="linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)),";function $(e){const t=document.createDocumentFragment();e.forEach(({name:l="",filter:c="",imgURL:o=""})=>{const n=A.children[0].cloneNode(!0);n.style.backgroundImage=`${H} url(${o})`,n.setAttribute("data-name",l);const f=n.querySelector(".card-text-title");f.textContent=l;const y=n.querySelector(".card-text-subtitle");y.textContent=c,t.appendChild(n)}),g.appendChild(t)}function N(e,t){g.innerHTML="";const l=document.createDocumentFragment();for(let c=0;c<e.length;c++){const{name:o,_id:n,rating:f,burnedCalories:y,target:k}=e[c],i=D.children[0].cloneNode(!0);i.dataset.id=n;const j=i.querySelector(".js-title");j.textContent=o;const w=i.querySelector(".js-rating");w.textContent=f;const B=i.querySelector(".js-burned-calories");B.textContent=y;const M=i.querySelector(".js-target");M.textContent=k;const T=i.querySelector(".js-filter");T.textContent=`${t.filter}:`;const I=i.querySelector(".js-filter-value");I.textContent=t.excerciseFilter,l.appendChild(i)}g.appendChild(l)}const P=document.querySelector(".js-gallery"),z=document.querySelector(".js-filter-block"),C=document.querySelectorAll(".js-filter"),R=C[0].textContent.trim(),L={page:1,limit:window.innerWidth<768?9:12,filter:R};u(L);function u(e){a(!0),S.getExercisesFilter(e).then(t=>{const{totalPages:l,results:c}=t;V(c),E(l,u,e)}).catch(t=>d(t.message)).finally(a(!1))}function V(e){P.innerHTML="",$(e)}z.addEventListener("click",Y);function Y(e){if(e.target!==e.currentTarget&&(C.forEach(t=>{t.classList.remove("active")}),e.target.classList.contains("js-filter"))){const t=e.target.dataset.filter;e.target.classList.add("active"),u({...L,filter:t})}}const U=document.getElementById("subscribe-form");U.addEventListener("submit",async e=>{e.preventDefault();const t=e.target.elements.email.value;try{a(!0),await S.addSubscription({email:t}),d("Congrats! You've been subscribed!")}catch{d("Subscription already exists","#FF876C")}finally{e.target.reset(),a(!1)}});const r={elGallery:document.querySelector(".js-gallery"),elMainBreadCrumbsState:document.querySelector(".js-bradcrumbs"),elInnerBreadCrumbsState:document.querySelector(".js-bradcrumbs-inner"),elFilterBreadcrumb:document.querySelector(".js-bradcrumbs-filter"),elFilters:document.querySelector(".js-filter-block"),elInput:document.querySelector(".js-search-input"),elSearchForm:document.querySelector(".js-search-form"),template:document.querySelector("#exercise"),elTrash:document.querySelector(".ex-item-trash-icon")},s={excerciseFilter:"",filter:"Muscles",keyword:"",isFilledCroupExcercises(){return!this.excerciseFilter},isFilledExcercises(){return!!this.excerciseFilter},setFilter(e){this.filter=e,this.resetExcerciseFilter(),r.elSearchForm.removeEventListener("submit",h),r.elSearchForm.removeEventListener("reset",F)},setExcerciseFilter(e){this.excerciseFilter=e,r.elSearchForm.addEventListener("submit",h),r.elSearchForm.addEventListener("reset",F)},resetExcerciseFilter(){this.excerciseFilter="",this.keyword=""}},q={page:1,limit:10};function W(e){return e.charAt(0).toUpperCase()+e.slice(1)}const p=()=>{r.elGallery.innerHTML="",s.resetExcerciseFilter(),s.filter="Muscles",u({...q,limit:12,filter:"Muscles"}),m(),r.elFilters.querySelectorAll(".js-filter").forEach(t=>{t.classList.remove("active"),t.dataset.filter==="Muscles"&&t.classList.add("active")})};function m(){r.elFilterBreadcrumb.textContent=s.excerciseFilter?W(s.excerciseFilter):"",s.isFilledExcercises()?(r.elSearchForm.hidden=!1,r.elInnerBreadCrumbsState.hidden=!1,r.elMainBreadCrumbsState.classList.contains("bradcrumbs-active")||(r.elMainBreadCrumbsState.classList.add("bradcrumbs-active"),r.elMainBreadCrumbsState.addEventListener("click",p))):(r.elSearchForm.hidden=!0,r.elInnerBreadCrumbsState.hidden=!0,r.elMainBreadCrumbsState.classList.remove("bradcrumbs-active"),r.elMainBreadCrumbsState.removeEventListener("click",p))}function _(e){if(e.target===e.currentTarget)return;const t=e.target;if(s.isFilledCroupExcercises()){const l=t.closest(".card-item");if(!l)return;s.setExcerciseFilter(l.dataset.name),x()}else if(s.isFilledExcercises()&&t.closest(".ex-item-start")){const o=t.closest(".ex-item").dataset.id;G(o)}m()}function J(e){e.target!==e.currentTarget&&e.target.classList.contains("js-filter")&&(s.setFilter(e.target.dataset.filter),m())}function h(e){e.preventDefault(),s.keyword=e.target.elements.search.value,x()}function F(){s.keyword="",x(),m()}r.elGallery.addEventListener("click",_);r.elFilters.addEventListener("click",J);r.elSearchForm.addEventListener("submit",h);r.elSearchForm.addEventListener("reset",F);function x(){r.elGallery.innerHTML="";const e={...q};s.filter=="Muscles"?e.muscles=s.excerciseFilter:s.filter=="Equipment"?e.equipment=s.excerciseFilter:s.filter=="Body parts"&&(e.bodypart=s.excerciseFilter),s.keyword&&(e.keyword=s.keyword),v(e)}function v(e){a(!0),S.getExercises(e).then(t=>{const{totalPages:l,results:c}=t;N(c,s),E(l,v,e)}).catch(t=>d(t.message)).finally(a(!1))}const b=document.getElementById("scroll-top"),K=()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0},O=()=>{window.scrollY>window.innerHeight?b.classList.add("scroll-show"):b.classList.remove("scroll-show")};window.addEventListener("scroll",O);b.addEventListener("click",K);
//# sourceMappingURL=commonHelpers2.js.map
